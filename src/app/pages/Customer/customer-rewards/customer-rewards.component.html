<div class="rewards-container" dir="rtl">
  <div class="rewards-header">
    <h1>Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶</h1>
    <div class="points-badge">{{ totalPoints }} Ù†Ù‚Ø·Ø©</div>
  </div>

  <div class="loader" *ngIf="isLoading"></div>

  <div *ngIf="!isLoading" class="rewards-content">
    <div class="category-filter">
      <button *ngFor="let cat of categories" 
              (click)="setCategory(cat)"
              [ngClass]="{'active': activeCategory === cat}"
              class="category-btn">
        {{ cat === 'all' ? 'Ø§Ù„ÙƒÙ„' : cat === 'discount' ? 'ØªØ®ÙÙŠØ¶Ø§Øª' : cat === 'free' ? 'Ù…Ø¬Ø§Ù†ÙŠ' : cat === 'cashback' ? 'Ù†Ù‚Ø¯' : 'ÙƒÙˆØ¨ÙˆÙ†Ø§Øª' }}
      </button>
    </div>

    <div class="rewards-grid">
      <div *ngFor="let reward of filteredRewards" class="reward-card">
        <div class="reward-icon">{{ reward.icon }}</div>
        <h3>{{ reward.name }}</h3>
        <p class="description">{{ reward.description }}</p>
        <div class="merchant-tag">{{ reward.merchant }}</div>
        <div class="points-section">
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="getProgressPercentage(reward)"></div>
          </div>
          <span class="points-text">{{ reward.currentPoints }}/{{ reward.pointsRequired }}</span>
        </div>
        <p class="expiry">ÙŠÙ†ØªÙ‡ÙŠ: {{ reward.expiryDate }}</p>
        <button (click)="redeemReward(reward)" 
                [disabled]="reward.currentPoints < reward.pointsRequired"
                class="redeem-btn">
          Ø§Ø³ØªØ¨Ø¯Ø§Ù„
        </button>
      </div>
    </div>

    <div *ngIf="filteredRewards.length === 0" class="empty-state">
      <span class="empty-icon">ğŸ</span>
      <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙƒØ§ÙØ¢Øª Ù…ØªØ§Ø­Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©</p>
    </div>
  </div>
</div>
