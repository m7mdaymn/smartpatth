<div class="profile-container" dir="rtl">
  <!-- Success Message -->
  <div *ngIf="successMessage" class="success-alert">{{ successMessage }}</div>

  <!-- Profile Header -->
  <div class="profile-header">
    <div class="avatar-section">
      <img [src]="profile.avatar" alt="avatar" class="profile-avatar">
      <button (click)="changeAvatar()" class="change-avatar-btn" *ngIf="editMode">๐ท</button>
    </div>
    <div class="profile-name">
      <h1>{{ profile.name }}</h1>
      <p>{{ profile.email }}</p>
    </div>
    <button (click)="toggleEditMode()" [ngClass]="{'edit-mode': editMode}" class="edit-btn">
      {{ editMode ? 'ุฅูุบุงุก' : 'ุชุนุฏูู' }}
    </button>
  </div>

  <!-- Profile Form -->
  <div class="profile-form" *ngIf="editMode">
    <div class="form-group">
      <label>ุงูุงุณู ุงููุงูู</label>
      <input type="text" [(ngModel)]="profile.name" placeholder="ุฃุฏุฎู ุงุณูู">
    </div>

    <div class="form-group">
      <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
      <input type="email" [(ngModel)]="profile.email" placeholder="ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู">
    </div>

    <div class="form-group">
      <label>ุฑูู ุงูุฌูุงู</label>
      <input type="tel" [(ngModel)]="profile.phone" placeholder="ุฃุฏุฎู ุฑูู ุฌูุงูู">
    </div>

    <div class="form-group">
      <label>ุงููุฏููุฉ</label>
      <input type="text" [(ngModel)]="profile.city" placeholder="ุฃุฏุฎู ูุฏููุชู">
    </div>

    <div class="form-group">
      <label>ููุฏูู ุงูุณูุงุฑุฉ</label>
      <input type="text" [(ngModel)]="profile.carModel" placeholder="ูุซุงู: ุชูููุชุง ูุงูุฑู">
    </div>

    <div class="form-group">
      <label>ููู ุงูุณูุงุฑุฉ</label>
      <input type="text" [(ngModel)]="profile.carColor" placeholder="ูุซุงู: ุฃุณูุฏ">
    </div>

    <div class="form-group">
      <label>ููุญุฉ ุงูุชุฑุฎูุต</label>
      <input type="text" [(ngModel)]="profile.licensePlate" placeholder="ูุซุงู: ุฑ ุฌ ุฌ 1234">
    </div>

    <button (click)="saveProfile()" class="save-btn" [disabled]="isLoading">
      {{ isLoading ? 'ุฌุงุฑู ุงูุญูุธ...' : 'ุญูุธ ุงูุชุบููุฑุงุช' }}
    </button>
  </div>

  <!-- Profile Display -->
  <div class="profile-display" *ngIf="!editMode">
    <div class="info-section">
      <h3>ูุนูููุงุช ุงูุญุณุงุจ</h3>
      <div class="info-item">
        <span class="label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</span>
        <span class="value">{{ profile.email }}</span>
      </div>
      <div class="info-item">
        <span class="label">ุฑูู ุงูุฌูุงู:</span>
        <span class="value">{{ profile.phone }}</span>
      </div>
      <div class="info-item">
        <span class="label">ุงููุฏููุฉ:</span>
        <span class="value">{{ profile.city }}</span>
      </div>
    </div>

    <div class="info-section">
      <h3>ูุนูููุงุช ุงูุณูุงุฑุฉ</h3>
      <div class="info-item">
        <span class="label">ุงูููุฏูู:</span>
        <span class="value">{{ profile.carModel }}</span>
      </div>
      <div class="info-item">
        <span class="label">ุงูููู:</span>
        <span class="value">{{ profile.carColor }}</span>
      </div>
      <div class="info-item">
        <span class="label">ููุญุฉ ุงูุชุฑุฎูุต:</span>
        <span class="value">{{ profile.licensePlate }}</span>
      </div>
    </div>
  </div>
</div>
